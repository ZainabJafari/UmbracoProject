@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<Umbraco.Cms.Core.Models.Blocks.BlockListItem>;
@using ContentModels = Umbraco.Cms.Web.Common.PublishedModels;
@{
    var content = (ContentModels.ProjectSectionTwo)Model.Content;




    var current = Umbraco.AssignedContentItem;
    var siteRoot = current?.Root();

    var projectPage = siteRoot?.Children<ProjectsPage>().FirstOrDefault();

    var items = projectPage?.Children<ProjectDetail>()?.OrderByDescending(x => x.CreateDate).ToList() ?? [];
}


<section class="py-10">
    <div class="max-w-5xl mx-auto px-4 space-y-10">

        @if (items.Any())
        {
            @foreach (var item in items)
            {
                <a href="@item.Url()" class="block no-underline">
                    <div class="flex flex-col md:flex-row bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition">

                        <!-- IMAGE -->
                        <div class="md:w-1/3 w-full h-56 md:h-auto overflow-hidden flex-shrink-0">
                            <img src="@(item.ProjectPageImage?.Url() ?? "~/images/Img.svg")"
                                 class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105" />
                        </div>

                        <!-- CONTENT -->
                        <div class="p-6 md:w-2/3">
                            <!-- TITLE -->
                            <h3 class="text-xl font-semibold text-[#3B4A43] mb-1">
                                @item.ProjectPageTitle
                            </h3>

                            <!-- DATE -->
                       
                            <!-- TEXT -->
                            <p class="text-gray-600 leading-relaxed mb-5">
                                @item.ProjectPageText
                            </p>

                            <div class="inline-flex items-center gap-2 text-[#3B4A43] font-medium">
                                <span>Read more</span>
                                <span class="text-lg">→</span>
                            </div>
                        </div>
                    </div>
                </a>
            }
        }
        else
        {
            <p class="text-center text-gray-500">No services available</p>
        }
    </div>
</section>

